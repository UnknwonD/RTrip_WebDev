{% extends 'head_content.html' %}

{% block content %}
<style>
    .mypage-wrapper {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 60px 20px;
        background-color: #f0f2f5;
    }

    .mypage-card {
        background-color: #ffffff;
        border-radius: 12px;
        padding: 40px;
        width: 100%;
        max-width: 700px;
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease-in-out;
    }

    .mypage-card:hover {
        box-shadow: 0 16px 32px rgba(0, 0, 0, 0.15);
    }

    .mypage-title {
        text-align: center;
        font-size: 26px;
        font-weight: 700;
        margin-bottom: 30px;
        color: #333;
    }

    .form-group label {
        font-weight: 600;
        margin-top: 10px;
    }

    .form-control {
        border-radius: 6px;
        padding: 10px;
        font-size: 14px;
        margin-top: 5px;
        width: 100%;
    }

    select.form-control option {
        white-space: normal;
    }

    .btn-submit, .btn-cancel {
        width: 100%;
        padding: 12px;
        font-size: 16px;
        border-radius: 6px;
        border: none;
        margin-top: 20px;
        font-weight: bold;
    }

    .btn-submit {
        background-color: #655cff;
        color: white;
    }

    .btn-submit:hover {
        background-color: #534cf3;
    }

    .btn-cancel {
        background-color: #e0e0e0;
        color: #333;
    }

    .btn-cancel:hover {
        background-color: #cacaca;
    }

    .d-none {
        display: none !important;
    }

    .form-step.active {
        display: block !important;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        font-weight: 600;
        display: block;
        margin-bottom: 8px;
        color: #444;
    }

    .form-control {
        width: 100%;
        max-width: 100%;
        white-space: normal; /* ì¤„ë°”ê¿ˆ í—ˆìš© */
        word-break: keep-all; /* ë‹¨ì–´ ì¤‘ê°„ì—ì„œ ëŠì§€ ì•Šë„ë¡ */
        font-size: 14px;
        padding: 8px;
    }

    select.form-control option {
        white-space: normal;
    }

    .btn-row {
        display: flex;
        justify-content: space-between;
        gap: 15px;
    }

    .btn-submit, .btn-cancel {
        flex: 1;
        padding: 12px;
        font-size: 15px;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .btn-submit {
        background-color: #655cff;
        color: white;
    }

    .btn-submit:hover {
        background-color: #534cf3;
    }

    .btn-cancel {
        background-color: #e0e0e0;
        color: #333;
    }

    .btn-cancel:hover {
        background-color: #cacaca;
    }

    .travel-style-card {
        background-color: #ffffff;
        border-radius: 12px;
        padding: 30px 25px;
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease-in-out;
        margin-bottom: 30px;
    }

    .travel-style-card:hover {
        box-shadow: 0 14px 30px rgba(0, 0, 0, 0.12);
    }

    .style-image-pair {
        display: flex;
        justify-content: space-between;
        gap: 20px;
        margin: 20px 0;
    }

    .style-image-pair img {
        width: 48%;
        border-radius: 10px;
        object-fit: cover;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .slider-label {
        font-size: 14px;
        color: #666;
        margin-bottom: 8px;
    }

    .slider-value {
        font-weight: bold;
        font-size: 18px;
        margin-top: 10px;
    }

    .style-slider {
        width: 100%;
        margin-top: 10px;
    }

    .step-btn-group {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 30px;
    }

    .step-btn-group .btn {
        padding: 12px 24px;
        font-size: 15px;
        border-radius: 8px;
        font-weight: 600;
    }
</style>

<div class="mypage-wrapper">
    <div class="mypage-card">
        <h2 class="mypage-title">ğŸ™‹ ë§ˆì´í˜ì´ì§€</h2>
        <form method="POST" action="/mypage">
        <!-- Page 1 -->
          <div class="form-step" id="step-1">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <div class="alert alert-success" style="margin-bottom: 20px;">
                        {{ messages[0] }}
                    </div>
                {% endif %}
            {% endwith %}
            <div class="form-group">
                <label>ì•„ì´ë””</label>
                <input type="text" name="USER_ID" class="form-control" value="{{ user.USER_ID }}" readonly>
            </div>

            <div class="form-group">
                <label>ì´ë¦„</label>
                <input type="text" name="NAME" class="form-control" value="{{ user.NAME }}">
            </div>

            <div class="form-group">
                <label>ì„±ë³„</label>
                <select name="GENDER" class="form-control">
                    <option value="1" {% if user.GENDER == '1' %}selected{% endif %}>ë‚¨</option>
                    <option value="2" {% if user.GENDER == '2' %}selected{% endif %}>ì—¬</option>
                </select>
            </div>

            <div class="form-group">
                <label>ìƒë…„ì›”ì¼</label>
                <input type="date" name="BIRTHDATE" class="form-control" value="{{ user.BIRTHDATE }}" min="1999-01-01" max="{{ today }}">
            </div>

            <div class="form-group">
                <label>ì „í™”ë²ˆí˜¸</label>
                <input type="tel" name="phone_number" class="form-control" value="{{ user.phone_number }}"
                    pattern="010-[0-9]{4}-[0-9]{4}"
                    placeholder="010-1234-5678"
                    required>
            </div>
            <div class ="step-btn-group">
                <button type="button" class="btn btn-primary btn-lg px-5" onclick="nextStep(1)">ë‹¤ìŒ</button>
            </div>
        </div>

        <!-- Page 2 -->
          <div class="form-step d-none" id="step-2">     
            <div class="form-group">
                <label>ìµœì¢…í•™ë ¥</label>      
                <select name="EDU_NM" class="form-control">
                    <option value="1" {% if user.EDU_NM == '1' %}selected{% endif %}>ë¬´í•™</option>
                    <option value="2" {% if user.EDU_NM == '2' %}selected{% endif %}>ì´ˆë“±í•™êµ</option>
                    <option value="3" {% if user.EDU_NM == '3' %}selected{% endif %}>ì¤‘í•™êµ</option>
                    <option value="4" {% if user.EDU_NM == '4' %}selected{% endif %}>ê³ ë“±í•™êµ</option>
                    <option value="5" {% if user.EDU_NM == '5' %}selected{% endif %}>ëŒ€í•™(4ë…„ì œ ë¯¸ë§Œ)</option>
                    <option value="6" {% if user.EDU_NM == '6' %}selected{% endif %}>ëŒ€í•™êµ(4ë…„ì œ ì´ìƒ)</option>
                    <option value="7" {% if user.EDU_NM == '7' %}selected{% endif %}>ëŒ€í•™ì› ì„ì‚¬ ê³¼ì •</option>
                    <option value="8" {% if user.EDU_NM == '8' %}selected{% endif %}>ëŒ€í•™ì› ë°•ì‚¬ ê³¼ì •</option>
                </select>
            </div>

            <div class="form-group">
                <label>ìµœì¢…í•™ë ¥ ì´ìˆ˜ ì—¬ë¶€</label>
                <select name="EDU_FNSH_SE" class="form-control">
                    <option value="1" {% if user.EDU_FNSH_SE == '1' %}selected{% endif %}>ë¬´í•™</option>
                    <option value="2" {% if user.EDU_FNSH_SE == '2' %}selected{% endif %}>ì¬í•™</option>
                    <option value="3" {% if user.EDU_FNSH_SE == '3' %}selected{% endif %}>íœ´í•™</option>
                    <option value="4" {% if user.EDU_FNSH_SE == '4' %}selected{% endif %}>ì¤‘í‡´</option>
                    <option value="5" {% if user.EDU_FNSH_SE == '5' %}selected{% endif %}>ìˆ˜ë£Œ</option>
                </select>
            </div>

            <div class="form-group">
                <label>í˜¼ì¸ìƒíƒœ</label>
                <select name="MARR_STTS" class="form-control">
                    <option value="1" {% if user.MARR_STTS == '1' %}selected{% endif %}>ë¯¸í˜¼</option>
                    <option value="2" {% if user.MARR_STTS == '2' %}selected{% endif %}>ê¸°í˜¼</option>
                    <option value="3" {% if user.MARR_STTS == '3' %}selected{% endif %}>ì‚¬ë³„</option>
                    <option value="4" {% if user.MARR_STTS == '4' %}selected{% endif %}>ì´í˜¼</option>
                    <option value="5" {% if user.MARR_STTS == '5' %}selected{% endif %}>ê¸°íƒ€</option>  
                </select>
            </div>

            <div class="form-group">
                <label>ê°€ì¡± ìˆ˜(ëª…)</label>
                <input type="number" name="FAMILY_MEMB" class="form-control" value="{{ user.FAMILY_MEMB }}">
            </div>

            <div class="form-group">
                <label>ì§ì—…</label>
                <select name="JOB_NM" class="form-control">
                    <option value="1" {% if user.JOB_NM == '1' %}selected{% endif %}>ê´€ë¦¬ì</option>
                    <option value="2" {% if user.JOB_NM == '2' %}selected{% endif %}>ì „ë¬¸ê°€ ë° ê´€ë ¨ ì¢…ì‚¬ì</option>
                    <option value="3" {% if user.JOB_NM == '3' %}selected{% endif %}>ì‚¬ë¬´ ì¢…ì‚¬ì</option>
                    <option value="4" {% if user.JOB_NM == '4' %}selected{% endif %}>ì„œë¹„ìŠ¤ ì¢…ì‚¬ì</option>
                    <option value="5" {% if user.JOB_NM == '5' %}selected{% endif %}>íŒë§¤ ì¢…ì‚¬ì</option>
                    <option value="6" {% if user.JOB_NM == '6' %}selected{% endif %}>ë†ë¦½ì–´ì› ìˆ™ë ¨ ì¢…ì‚¬ì</option>
                    <option value="7" {% if user.JOB_NM == '7' %}selected{% endif %}>ê¸°ëŠ¥ì› ë° ê´€ë ¨ ê¸°ëŠ¥ ì¢…ì‚¬ì</option>
                    <option value="8" {% if user.JOB_NM == '8' %}selected{% endif %}>ì¥ì¹˜Â·ê¸°ê³„ ì¡°ì‘ ë° ì¡°ë¦½ ì¢…ì‚¬ì</option>
                    <option value="9" {% if user.JOB_NM == '9' %}selected{% endif %}>ë‹¨ìˆœë…¸ë¬´ì¢…ì‚¬ì</option>
                    <option value="10" {% if user.JOB_NM == '10' %}selected{% endif %}>êµ°ì¸</option>
                    <option value="11" {% if user.JOB_NM == '11' %}selected{% endif %}>ì „ì—…ì£¼ë¶€</option>
                    <option value="12" {% if user.JOB_NM == '12' %}selected{% endif %}>í•™ìƒ</option>
                    <option value="13" {% if user.JOB_NM == '13' %}selected{% endif %}>ê¸°íƒ€</option>
                </select>            
            </div>

            <div class="form-group">
                <label>ë³¸ì¸ ì†Œë“(ë§Œì›)</label>
                <input type="text" name="INCOME" class="form-control" value="{{ user.INCOME }}">
            </div>

            <div class="form-group">
                <label>ê°€êµ¬ ì†Œë“(ë§Œì›)</label>
                <input type="text" name="HOUSE_INCOME" class="form-control" value="{{ user.HOUSE_INCOME }}">
            </div>

            <div class="form-group">
                <label>í•œ ë‹¬ ë‚´ ì—¬í–‰í•˜ëŠ” ê¸°ê°„</label>
                <select name="TRAVEL_TERM" class="form-control">
                    <option value="1" {% if user.TRAVEL_TERM == '1' %}selected{% endif %}>1ì£¼ì¼</option>
                    <option value="2" {% if user.TRAVEL_TERM == '2' %}selected{% endif %}>í•œë‹¬</option>
                    <option value="3" {% if user.TRAVEL_TERM == '3' %}selected{% endif %}>1ë…„</option>
                    <option value="4" {% if user.TRAVEL_TERM == '4' %}selected{% endif %}>ê¸°íƒ€</option>
                </select>
            </div>

            <div class="form-group">
                <label>í•œ ë‹¬ ë‚´ ì—¬í–‰ ë¹ˆë„</label>
                <input type="text" name="TRAVEL_NUM" class="form-control" value="{{ user.TRAVEL_NUM }}">
            </div>

            <div class="form-group">
                <label>ì—¬í–‰ ë™ë°˜ì ìˆ˜</label>
                <input type="number" name="TRAVEL_COMPANIONS_NUM" class="form-control" value="{{ user.TRAVEL_COMPANIONS_NUM }}">
            </div>

            <div class="form-group">
                <label>1ìˆœìœ„ ì—¬í–‰ì§€(ì‹œë„)</label>
                <select name="TRAVEL_LIKE_SIDO_1" class="form-control" required>
                    <option value="ì„œìš¸íŠ¹ë³„ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ì„œìš¸íŠ¹ë³„ì‹œ" %}selected{% endif %}>ì„œìš¸íŠ¹ë³„ì‹œ</option>
                    <option value="ë¶€ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ë¶€ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ëŒ€êµ¬ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                    <option value="ì¸ì²œê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ì¸ì²œê´‘ì—­ì‹œ" %}selected{% endif %}>ì¸ì²œê´‘ì—­ì‹œ</option>
                    <option value="ê´‘ì£¼ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ê´‘ì£¼ê´‘ì—­ì‹œ" %}selected{% endif %}>ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€ì „ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ëŒ€ì „ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€ì „ê´‘ì—­ì‹œ</option>
                    <option value="ìš¸ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ìš¸ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" {% if user.TRAVEL_LIKE_SIDO_1 == "ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" %}selected{% endif %}>ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                    <option value="ê²½ê¸°ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ê²½ê¸°ë„" %}selected{% endif %}>ê²½ê¸°ë„</option>
                    <option value="ì¶©ì²­ë¶ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ì¶©ì²­ë¶ë„" %}selected{% endif %}>ì¶©ì²­ë¶ë„</option>
                    <option value="ì¶©ì²­ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ì¶©ì²­ë‚¨ë„" %}selected{% endif %}>ì¶©ì²­ë‚¨ë„</option>
                    <option value="ì „ë¶íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ì „ë¶íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì „ë¶íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì „ë¼ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ì „ë¼ë‚¨ë„" %}selected{% endif %}>ì „ë¼ë‚¨ë„</option>
                    <option value="ê²½ìƒë¶ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ê²½ìƒë¶ë„" %}selected{% endif %}>ê²½ìƒë¶ë„</option>
                    <option value="ê²½ìƒë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ê²½ìƒë‚¨ë„" %}selected{% endif %}>ê²½ìƒë‚¨ë„</option>
                    <option value="ê°•ì›íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ê°•ì›íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ê°•ì›íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_1 == "ì œì£¼íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                </select>
            </div>

            <div class="form-group">
                <label>2ìˆœìœ„ ì—¬í–‰ì§€(ì‹œë„)</label>
                <select name="TRAVEL_LIKE_SIDO_2" class="form-control" required>
                    <option value="ì„œìš¸íŠ¹ë³„ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ì„œìš¸íŠ¹ë³„ì‹œ" %}selected{% endif %}>ì„œìš¸íŠ¹ë³„ì‹œ</option>
                    <option value="ë¶€ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ë¶€ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ëŒ€êµ¬ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                    <option value="ì¸ì²œê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ì¸ì²œê´‘ì—­ì‹œ" %}selected{% endif %}>ì¸ì²œê´‘ì—­ì‹œ</option>
                    <option value="ê´‘ì£¼ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ê´‘ì£¼ê´‘ì—­ì‹œ" %}selected{% endif %}>ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€ì „ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ëŒ€ì „ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€ì „ê´‘ì—­ì‹œ</option>
                    <option value="ìš¸ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ìš¸ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" {% if user.TRAVEL_LIKE_SIDO_2 == "ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" %}selected{% endif %}>ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                    <option value="ê²½ê¸°ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ê²½ê¸°ë„" %}selected{% endif %}>ê²½ê¸°ë„</option>
                    <option value="ì¶©ì²­ë¶ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ì¶©ì²­ë¶ë„" %}selected{% endif %}>ì¶©ì²­ë¶ë„</option>
                    <option value="ì¶©ì²­ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ì¶©ì²­ë‚¨ë„" %}selected{% endif %}>ì¶©ì²­ë‚¨ë„</option>
                    <option value="ì „ë¶íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ì „ë¶íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì „ë¶íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì „ë¼ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ì „ë¼ë‚¨ë„" %}selected{% endif %}>ì „ë¼ë‚¨ë„</option>
                    <option value="ê²½ìƒë¶ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ê²½ìƒë¶ë„" %}selected{% endif %}>ê²½ìƒë¶ë„</option>
                    <option value="ê²½ìƒë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ê²½ìƒë‚¨ë„" %}selected{% endif %}>ê²½ìƒë‚¨ë„</option>
                    <option value="ê°•ì›íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ê°•ì›íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ê°•ì›íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_2 == "ì œì£¼íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                </select>
            </div>

            <div class="form-group">
                <label>3ìˆœìœ„ ì—¬í–‰ì§€</label>
                <select name="TRAVEL_LIKE_SIDO_3" class="form-control" required>
                    <option value="ì„œìš¸íŠ¹ë³„ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ì„œìš¸íŠ¹ë³„ì‹œ" %}selected{% endif %}>ì„œìš¸íŠ¹ë³„ì‹œ</option>
                    <option value="ë¶€ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ë¶€ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ë¶€ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€êµ¬ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ëŒ€êµ¬ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€êµ¬ê´‘ì—­ì‹œ</option>
                    <option value="ì¸ì²œê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ì¸ì²œê´‘ì—­ì‹œ" %}selected{% endif %}>ì¸ì²œê´‘ì—­ì‹œ</option>
                    <option value="ê´‘ì£¼ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ê´‘ì£¼ê´‘ì—­ì‹œ" %}selected{% endif %}>ê´‘ì£¼ê´‘ì—­ì‹œ</option>
                    <option value="ëŒ€ì „ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ëŒ€ì „ê´‘ì—­ì‹œ" %}selected{% endif %}>ëŒ€ì „ê´‘ì—­ì‹œ</option>
                    <option value="ìš¸ì‚°ê´‘ì—­ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ìš¸ì‚°ê´‘ì—­ì‹œ" %}selected{% endif %}>ìš¸ì‚°ê´‘ì—­ì‹œ</option>
                    <option value="ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" {% if user.TRAVEL_LIKE_SIDO_3 == "ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ" %}selected{% endif %}>ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ</option>
                    <option value="ê²½ê¸°ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ê²½ê¸°ë„" %}selected{% endif %}>ê²½ê¸°ë„</option>
                    <option value="ì¶©ì²­ë¶ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ì¶©ì²­ë¶ë„" %}selected{% endif %}>ì¶©ì²­ë¶ë„</option>
                    <option value="ì¶©ì²­ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ì¶©ì²­ë‚¨ë„" %}selected{% endif %}>ì¶©ì²­ë‚¨ë„</option>
                    <option value="ì „ë¶íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ì „ë¶íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì „ë¶íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì „ë¼ë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ì „ë¼ë‚¨ë„" %}selected{% endif %}>ì „ë¼ë‚¨ë„</option>
                    <option value="ê²½ìƒë¶ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ê²½ìƒë¶ë„" %}selected{% endif %}>ê²½ìƒë¶ë„</option>
                    <option value="ê²½ìƒë‚¨ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ê²½ìƒë‚¨ë„" %}selected{% endif %}>ê²½ìƒë‚¨ë„</option>
                    <option value="ê°•ì›íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ê°•ì›íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ê°•ì›íŠ¹ë³„ìì¹˜ë„</option>
                    <option value="ì œì£¼íŠ¹ë³„ìì¹˜ë„" {% if user.TRAVEL_LIKE_SIDO_3 == "ì œì£¼íŠ¹ë³„ìì¹˜ë„" %}selected{% endif %}>ì œì£¼íŠ¹ë³„ìì¹˜ë„</option>
                </select>
            </div>
            <div class="form-group">
                <label>1ìˆœìœ„ ì—¬í–‰ ë™ê¸°</label>
                <select name="TRAVEL_MOTIVE_1" class="form-control">
                    <option value="1" {% if user.TRAVEL_MOTIVE_2 == '1' %}selected{% endif %}>ì¼ìƒ íƒˆì¶œ</option>
                    <option value="2" {% if user.TRAVEL_MOTIVE_2 == '2' %}selected{% endif %}>íœ´ì‹ / ì¶©ì „</option>
                    <option value="3" {% if user.TRAVEL_MOTIVE_2 == '3' %}selected{% endif %}>ìœ ëŒ€ê°</option>
                    <option value="4" {% if user.TRAVEL_MOTIVE_2 == '4' %}selected{% endif %}>ìì•„ ì„±ì°°</option>
                    <option value="5" {% if user.TRAVEL_MOTIVE_2 == '5' %}selected{% endif %}>SNS ê³¼ì‹œ</option>
                    <option value="6" {% if user.TRAVEL_MOTIVE_2 == '6' %}selected{% endif %}>ê±´ê°• ì¦ì§„</option>
                    <option value="7" {% if user.TRAVEL_MOTIVE_2 == '7' %}selected{% endif %}>ìƒˆë¡œìš´ ê²½í—˜</option>
                    <option value="8" {% if user.TRAVEL_MOTIVE_2 == '8' %}selected{% endif %}>ì—­ì‚¬ / ë¬¸í™” ì²´í—˜</option>
                    <option value="9" {% if user.TRAVEL_MOTIVE_2 == '9' %}selected{% endif %}>íŠ¹ë³„í•œ ëª©ì </option>
                    <option value="10" {% if user.TRAVEL_MOTIVE_2 == '10' %}selected{% endif %}>ê¸°íƒ€</option>
                </select>
            </div>

            <div class="form-group">
                <label>2ìˆœìœ„ ì—¬í–‰ ë™ê¸°</label>
                <select name="TRAVEL_MOTIVE_2" class="form-control">
                    <option value="1" {% if user.TRAVEL_MOTIVE_2 == '1' %}selected{% endif %}>ì¼ìƒ íƒˆì¶œ</option>
                    <option value="2" {% if user.TRAVEL_MOTIVE_2 == '2' %}selected{% endif %}>íœ´ì‹ / ì¶©ì „</option>
                    <option value="3" {% if user.TRAVEL_MOTIVE_2 == '3' %}selected{% endif %}>ìœ ëŒ€ê°</option>
                    <option value="4" {% if user.TRAVEL_MOTIVE_2 == '4' %}selected{% endif %}>ìì•„ ì„±ì°°</option>
                    <option value="5" {% if user.TRAVEL_MOTIVE_2 == '5' %}selected{% endif %}>SNS ê³¼ì‹œ</option>
                    <option value="6" {% if user.TRAVEL_MOTIVE_2 == '6' %}selected{% endif %}>ê±´ê°• ì¦ì§„</option>
                    <option value="7" {% if user.TRAVEL_MOTIVE_2 == '7' %}selected{% endif %}>ìƒˆë¡œìš´ ê²½í—˜</option>
                    <option value="8" {% if user.TRAVEL_MOTIVE_2 == '8' %}selected{% endif %}>ì—­ì‚¬ / ë¬¸í™” ì²´í—˜</option>
                    <option value="9" {% if user.TRAVEL_MOTIVE_2 == '9' %}selected{% endif %}>íŠ¹ë³„í•œ ëª©ì </option>
                    <option value="10" {% if user.TRAVEL_MOTIVE_2 == '10' %}selected{% endif %}>ê¸°íƒ€</option>
                </select>
            </div>
            <div class="step-btn-group">
                <button type="button" class="btn btn-primary btn-lg px-5" onclick="prevStep(2)">ì´ì „</button>
                <button type="button" class="btn btn-primary btn-lg px-5" onclick="nextStep(2)">ë‹¤ìŒ</button>
            </div>
        </div>
            <!-- Page 3 ~ END  -->
            <div class = "form-group">
                {% set labels = [
                        'ìì—° vs ë„ì‹œ',
                        'ìˆ™ë°• vs ë‹¹ì¼',
                        'ìƒˆë¡œìš´ ì§€ì—­ vs ìµìˆ™í•œ ì§€ì—­',
                        'í¸í•˜ì§€ë§Œ ë¹„ì‹¼ ìˆ™ì†Œ vs ë¶ˆí¸í•˜ì§€ë§Œ ì €ë ´í•œ ìˆ™ì†Œ',
                        'íœ´ì–‘/íœ´ì‹ vs ì²´í—˜í™œë™',
                        'ì˜ ì•Œë ¤ì§€ì§€ ì•Šì€ ë°©ë¬¸ì§€ vs ìœ ëª…í•œ ë°©ë¬¸ì§€',
                        'ê³„íšì— ë”°ë¥¸ ì—¬í–‰ vs ì¦‰í¥ì  ì—¬í–‰',
                        'ì‚¬ì§„ì´¬ì˜ ì¤‘ìš”í•˜ì§€ ì•ŠìŒ vs ì‚¬ì§„ì´¬ì˜ ì¤‘ìš”'
                    ] %}
                {% for i in range(1, 9) %}
                    <div class="form-step d-none" id="step-{{ i + 2 }}">
                        <div class="form-group text-center">
                            <h4>ì—¬í–‰ ìŠ¤íƒ€ì¼ {{ i }} / 8</h4>
                            <p><strong>{{ labels[i-1] }}</strong></p>
                            <div class = "style-image-pair">
                            <img src="/static/images/register_{{ i }}.jpg" style="width: 45%; max-width: 300px;" alt="style image">
                            <img src="/static/images/register_{{ i + 1 }}.jpg" style="width: 45%; max-width: 300px;" alt="style image">
                            </div>

                                <div class ="slider-label">
                                (1: {{ labels[i-1].split(' vs ')[0] }} ì„ í˜¸ â†â†’ 7: {{ labels[i-1].split(' vs ')[1] }} ì„ í˜¸)

                                <br/>
                            <div class="slider-value" id="valueDisplay{{ i }}">
                                {{ user['TRAVEL_STYL_' ~ i] or 4 }}
                            </div>

                            <input type="range"
                                class="form-range"
                                name="TRAVEL_STYL_{{ i }}"
                                id="slider{{ i }}"
                                min="1" max="7"
                                value="{{ user['TRAVEL_STYL_' ~ i] or 4 }}"
                                oninput="updateLabel({{ i }})">
                            </div>

                            <div class="step-btn-group">
                            {% if i >= 1 %}
                            <button type="button" class="btn btn-primary btn-lg px-5" onclick="prevStep({{ i+2 }})">ì´ì „</button>
                            {% endif %}
                            {% if i < 8 %}
                            <button type="button" class="btn btn-primary" onclick="nextStep({{ i+2 }})">ë‹¤ìŒ</button>
                            {% else %}
                            <button type="button" class="btn btn-success" onclick="submitForm()">âœ… ìˆ˜ì • ì™„ë£Œ</button>
                            <button type="button" class="btn btn-outline-dark" onclick="location.href='{{ url_for('home') }}'">ğŸ  ë©”ì¸ìœ¼ë¡œ</button>
                            {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    </div>
                </div>
            </div>

            <script>
                let currentStep = 1;

                function showStep(step) {
                    document.querySelectorAll('.form-step').forEach((el) => {
                        el.classList.add('d-none');
                        el.classList.remove('active');
                    });

                    const target = document.getElementById(`step-${step}`);
                    if (target) {
                        target.classList.remove('d-none');
                        target.classList.add('active');
                    }
                }

                function nextStep(step) {
                    currentStep = step + 1;
                    showStep(currentStep);
                }

                function prevStep(step) {
                    currentStep = step - 1;
                    showStep(currentStep);
                }

                document.addEventListener("DOMContentLoaded", () => {
                    showStep(currentStep);
                });

                function submitForm() {
                    document.querySelector("form").submit();
                }
                function updateLabel(index) {
                    const slider = document.getElementById(`slider${index}`);
                    const label = document.getElementById(`valueDisplay${index}`);
                    if (slider && label) {
                        label.textContent = slider.value;
                    }
                }
                
                </script>
        </form>
    </div>
</div>
{% endblock %}
